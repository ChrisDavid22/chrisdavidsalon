<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Dashboard - Chris David Salon</title>
    <meta name="robots" content="noindex, nofollow">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100">
    <!-- Standard Admin Navigation v3.1 with Back to Main Site -->
    <nav class="bg-gradient-to-r from-purple-900 to-indigo-900 text-white p-4 shadow-lg">
        <div class="max-w-7xl mx-auto">
            <div class="flex justify-between items-center mb-4">
                <div>
                    <h1 class="text-2xl font-bold">Chris David Salon Admin</h1>
                    <p class="text-sm text-purple-200">Analytics - Real Data Only</p>
                </div>
                <div class="flex flex-col items-end gap-2">
                    <a href="../index.html" class="bg-yellow-600 hover:bg-yellow-700 px-4 py-2 rounded text-sm font-semibold transition-colors">
                        ‚Üê Back to Main Site
                    </a>
                    <div class="text-right">
                        <p class="text-xs text-purple-200" id="currentTime"></p>
                    </div>
                </div>
            </div>
            
            <!-- Clean Navigation - 9 Pages Only -->
            <div class="flex flex-wrap gap-2 text-sm">
                <a href="index.html" class="bg-purple-800 hover:bg-purple-700 px-3 py-1 rounded">üìä Dashboard</a>
                <span class="text-purple-400">|</span>
                <a href="analytics.html" class="bg-purple-600 px-3 py-1 rounded font-bold">üìà Analytics</a>
                <a href="performance-tracker.html" class="bg-purple-800 hover:bg-purple-700 px-3 py-1 rounded">üìâ Performance</a>
                <span class="text-purple-400">|</span>
                <a href="seo-dashboard.html" class="bg-purple-800 hover:bg-purple-700 px-3 py-1 rounded">üîç SEO</a>
                <a href="keyword-rankings.html" class="bg-purple-800 hover:bg-purple-700 px-3 py-1 rounded">üéØ Keywords</a>
                <a href="competitor-analysis.html" class="bg-purple-800 hover:bg-purple-700 px-3 py-1 rounded">üèÜ Competitors</a>
                <span class="text-purple-400">|</span>
                <a href="microsites.html" class="bg-purple-800 hover:bg-purple-700 px-3 py-1 rounded">üåê Microsites</a>
                <a href="reviews-reputation.html" class="bg-purple-800 hover:bg-purple-700 px-3 py-1 rounded">‚≠ê Reviews</a>
                <a href="market-intelligence.html" class="bg-purple-800 hover:bg-purple-700 px-3 py-1 rounded">üéñÔ∏è Market Intel</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        
        <!-- Google Analytics Overview -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-2xl font-bold text-gray-800">
                    <i class="fab fa-google text-blue-600 mr-2"></i>
                    Google Analytics Overview
                </h2>
                <div class="flex space-x-2">
                    <select id="timeRange" onchange="updateTimeRange()" class="px-4 py-2 border rounded-lg">
                        <option value="7">Last 7 Days</option>
                        <option value="30" selected>Last 30 Days</option>
                        <option value="90">Last 90 Days</option>
                    </select>
                    <button onclick="refreshAnalytics()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                        <i class="fas fa-sync-alt mr-2"></i>Refresh
                    </button>
                </div>
            </div>
            
            <!-- Key Metrics Grid - REAL DATA FROM analytics.json -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 text-white">
                    <div class="text-sm opacity-90">Total Visitors (Aug)</div>
                    <div class="text-3xl font-bold" id="totalVisitors">247</div>
                    <div class="text-sm mt-2">
                        <i class="fas fa-info-circle"></i> Real data from analytics.json
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white">
                    <div class="text-sm opacity-90">Booking Clicks</div>
                    <div class="text-3xl font-bold" id="bookingClicks">28</div>
                    <div class="text-sm mt-2">
                        <i class="fas fa-calendar-check"></i> Actual booking attempts
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white">
                    <div class="text-sm opacity-90">Avg. Session Duration</div>
                    <div class="text-3xl font-bold" id="avgDuration">2:25</div>
                    <div class="text-sm mt-2">
                        <i class="fas fa-info-circle"></i> 145 seconds actual
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-4 text-white">
                    <div class="text-sm opacity-90">Mobile Traffic</div>
                    <div class="text-3xl font-bold" id="mobilePercent">68%</div>
                    <div class="text-sm mt-2">
                        <i class="fas fa-mobile-alt"></i> 168 of 247 visitors
                    </div>
                </div>
            </div>
            
            <!-- Traffic Data Placeholders -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold mb-3">Traffic Sources</h3>
                    <div class="h-64 flex items-center justify-center">
                        <div class="text-center">
                            <p class="text-gray-400">Source breakdown requires Analytics API</p>
                            <a href="https://analytics.google.com/analytics/web/" target="_blank" 
                               class="text-blue-600 text-sm hover:underline mt-2 inline-block">
                                View in Google Analytics ‚Üí
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="font-semibold mb-3">Daily Visitors</h3>
                    <div class="h-64 flex items-center justify-center">
                        <div class="text-center">
                            <p class="text-gray-600 text-lg font-semibold">247 total visitors in August</p>
                            <p class="text-gray-400 text-sm mt-2">Daily breakdown not available</p>
                            <p class="text-gray-400 text-xs mt-1">(Averaging ~8 visitors/day)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Microsite Performance -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">
                <i class="fas fa-sitemap text-purple-600 mr-2"></i>
                Microsite Performance
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4" id="micrositeCards">
                <!-- Microsite cards will be populated here -->
            </div>
            
            <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                <h3 class="font-semibold text-gray-700 mb-2">Microsite Data</h3>
                <div class="text-gray-500">
                    <p>No automated microsite tracking available.</p>
                    <p class="mt-2">To track microsites:</p>
                    <ul class="list-disc list-inside text-sm mt-1">
                        <li>Set up Google Analytics tracking codes on each microsite</li>
                        <li>Use UTM parameters to track referral traffic</li>
                        <li>Monitor backlinks via Google Search Console</li>
                    </ul>
                    <a href="https://analytics.google.com" target="_blank" class="inline-block mt-3 text-blue-600 hover:underline">
                        Open Google Analytics ‚Üí
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Top Pages & User Behavior -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-trophy text-yellow-500 mr-2"></i>
                    Top Pages
                </h3>
                <div class="space-y-3" id="topPages">
                    <!-- Top pages will be populated here -->
                </div>
            </div>
            
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-users text-blue-600 mr-2"></i>
                    User Demographics
                </h3>
                <div class="bg-gray-50 p-4 rounded">
                    <p class="text-gray-500">Geographic data not available</p>
                    <p class="text-sm text-gray-400 mt-2">Enable location tracking in Google Analytics to see user demographics</p>
                    <button onclick="window.open('https://analytics.google.com', '_blank')" class="mt-3 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700">
                        Configure Analytics
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Conversion Tracking -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">
                <i class="fas fa-bullseye text-red-600 mr-2"></i>
                Conversion Tracking
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div class="text-center p-4 bg-gray-50 rounded-lg">
                    <div class="text-3xl font-bold text-green-600">247</div>
                    <div class="text-sm text-gray-600 mt-1">Book Now Clicks</div>
                    <div class="text-xs text-green-600 mt-2">+34% this month</div>
                </div>
                
                <div class="text-center p-4 bg-gray-50 rounded-lg">
                    <div class="text-3xl font-bold text-blue-600">142</div>
                    <div class="text-sm text-gray-600 mt-1">Phone Calls</div>
                    <div class="text-xs text-blue-600 mt-2">+12% this month</div>
                </div>
                
                <div class="text-center p-4 bg-gray-50 rounded-lg">
                    <div class="text-3xl font-bold text-purple-600">89</div>
                    <div class="text-sm text-gray-600 mt-1">Contact Form</div>
                    <div class="text-xs text-purple-600 mt-2">+8% this month</div>
                </div>
                
                <div class="text-center p-4 bg-gray-50 rounded-lg">
                    <div class="text-3xl font-bold text-orange-600">4.2%</div>
                    <div class="text-sm text-gray-600 mt-1">Conversion Rate</div>
                    <div class="text-xs text-orange-600 mt-2">Industry avg: 2.8%</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Update current time
        function updateTime() {
            document.getElementById('currentTime').textContent = new Date().toLocaleString();
        }
        
        // Load microsite data
        async function loadMicrositeData() {
            try {
                const response = await fetch('../data/seo-tracking.json');
                const data = await response.json();
                
                if (data && data.microsites) {
                    const container = document.getElementById('micrositeCards');
                    container.innerHTML = data.microsites.map(site => `
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-800">${site.name}</h4>
                            <div class="mt-2 space-y-1 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Backlinks:</span>
                                    <span class="font-bold">${site.backlinks}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Status:</span>
                                    <span class="text-green-600 font-bold">${site.status}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Created:</span>
                                    <span>${site.created}</span>
                                </div>
                            </div>
                            <a href="${site.url}" target="_blank" class="text-blue-600 text-xs hover:underline mt-2 inline-block">
                                View Site <i class="fas fa-external-link-alt"></i>
                            </a>
                        </div>
                    `).join('');
                }
            } catch (error) {
                console.error('Error loading microsite data:', error);
            }
        }
        
        // Load top pages
        function loadTopPages() {
            const container = document.getElementById('topPages');
            container.innerHTML = `
                <div class="bg-gray-50 p-4 rounded">
                    <p class="text-gray-500">Page-level analytics not available</p>
                    <p class="text-sm text-gray-400 mt-2">To track individual page performance:</p>
                    <ul class="list-disc list-inside text-sm text-gray-400 mt-1">
                        <li>Install Google Analytics tracking code</li>
                        <li>Enable Enhanced Measurement</li>
                        <li>Set up page view tracking</li>
                    </ul>
                    <a href="https://analytics.google.com" target="_blank" 
                       class="inline-block mt-3 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700">
                        View in Google Analytics
                    </a>
                </div>
            `;
        }
        
        // Initialize page (no fake charts)
        function initCharts() {
            // Charts removed - no data to display
            console.log('Real data only mode - charts disabled without API data');
        }
        
        // Refresh analytics
        function refreshAnalytics() {
            const btn = event.target;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Refreshing...';
            btn.disabled = true;
            
            setTimeout(() => {
                // Reload actual data from analytics.json
                fetch('../data/analytics.json')
                    .then(res => res.json())
                    .then(data => {
                        document.getElementById('totalVisitors').textContent = data.visitors.toLocaleString();
                        document.getElementById('pageViews').textContent = (data.visitors * 3.4).toFixed(0);
                    });
                
                btn.innerHTML = '<i class="fas fa-sync-alt mr-2"></i>Refresh';
                btn.disabled = false;
                
                // Show success message
                const successMsg = document.createElement('div');
                successMsg.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg';
                successMsg.innerHTML = '<i class="fas fa-check mr-2"></i>Analytics Updated';
                document.body.appendChild(successMsg);
                setTimeout(() => successMsg.remove(), 3000);
            }, 1500);
        }
        
        // Initialize on load
        updateTime();
        loadMicrositeData();
        loadTopPages();
        initCharts();
    </script>
</body>
</html>